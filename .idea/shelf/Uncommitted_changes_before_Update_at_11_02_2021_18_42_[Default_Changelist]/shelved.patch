Index: backend/bootstrap/app.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?php\r\n\r\nrequire_once __DIR__.'/../vendor/autoload.php';\r\n\r\n(new Laravel\\Lumen\\Bootstrap\\LoadEnvironmentVariables(\r\n    dirname(__DIR__)\r\n))->bootstrap();\r\n\r\ndate_default_timezone_set(env('APP_TIMEZONE', 'UTC'));\r\n\r\n/*\r\n|--------------------------------------------------------------------------\r\n| Create The Application\r\n|--------------------------------------------------------------------------\r\n|\r\n| Here we will load the environment and create the application instance\r\n| that serves as the central piece of this framework. We'll use this\r\n| application as an \"IoC\" container and router for this framework.\r\n|\r\n*/\r\n\r\n$app = new Laravel\\Lumen\\Application(\r\n    dirname(__DIR__)\r\n);\r\n\r\n $app->withFacades();\r\n\r\n $app->withEloquent();\r\n\r\n/*\r\n|--------------------------------------------------------------------------\r\n| Register Container Bindings\r\n|--------------------------------------------------------------------------\r\n|\r\n| Now we will register a few bindings in the service container. We will\r\n| register the exception handler and the console kernel. You may add\r\n| your own bindings here if you like or you can make another file.\r\n|\r\n*/\r\n\r\n$app->singleton(\r\n    Illuminate\\Contracts\\Debug\\ExceptionHandler::class,\r\n    App\\Exceptions\\Handler::class\r\n);\r\n\r\n$app->singleton(\r\n    Illuminate\\Contracts\\Console\\Kernel::class,\r\n    App\\Console\\Kernel::class\r\n);\r\n\r\n/*\r\n|--------------------------------------------------------------------------\r\n| Register Config Files\r\n|--------------------------------------------------------------------------\r\n|\r\n| Now we will register the \"app\" configuration file. If the file exists in\r\n| your configuration directory it will be loaded; otherwise, we'll load\r\n| the default version. You may register other files below as needed.\r\n|\r\n*/\r\n\r\n$app->configure('app');\r\n\r\n/*\r\n|--------------------------------------------------------------------------\r\n| Register Middleware\r\n|--------------------------------------------------------------------------\r\n|\r\n| Next, we will register the middleware with the application. These can\r\n| be global middleware that run before and after each request into a\r\n| route or middleware that'll be assigned to some specific routes.\r\n|\r\n*/\r\n\r\n// $app->middleware([\r\n//     App\\Http\\Middleware\\ExampleMiddleware::class\r\n// ]);\r\n\r\n// $app->routeMiddleware([\r\n//     'auth' => App\\Http\\Middleware\\Authenticate::class,\r\n// ]);\r\n\r\n/*\r\n|--------------------------------------------------------------------------\r\n| Register Service Providers\r\n|--------------------------------------------------------------------------\r\n|\r\n| Here we will register all of the application's service providers which\r\n| are used to bind services into the container. Service providers are\r\n| totally optional, so you are not required to uncomment this line.\r\n|\r\n*/\r\n\r\n// $app->register(App\\Providers\\AppServiceProvider::class);\r\n// $app->register(App\\Providers\\AuthServiceProvider::class);\r\n// $app->register(App\\Providers\\EventServiceProvider::class);\r\n\r\n/*\r\n|--------------------------------------------------------------------------\r\n| Load The Application Routes\r\n|--------------------------------------------------------------------------\r\n|\r\n| Next we will include the routes file so that they can all be added to\r\n| the application. This will provide all of the URLs the application\r\n| can respond to, as well as the controllers that may handle them.\r\n|\r\n*/\r\n\r\n$app->router->group([\r\n    'namespace' => 'App\\Http\\Controllers',\r\n], function ($router) {\r\n    require __DIR__.'/../routes/web.php';\r\n});\r\n\r\nreturn $app;\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- backend/bootstrap/app.php	(revision ff2b1ee9b1c5fd09042147809cfb1d2070d85355)
+++ backend/bootstrap/app.php	(date 1613068444175)
@@ -72,13 +72,13 @@
 |
 */
 
-// $app->middleware([
-//     App\Http\Middleware\ExampleMiddleware::class
-// ]);
+ $app->middleware([
+     App\Http\Middleware\ExampleMiddleware::class
+ ]);
 
-// $app->routeMiddleware([
-//     'auth' => App\Http\Middleware\Authenticate::class,
-// ]);
+$app->routeMiddleware([
+     'auth' => App\Http\Middleware\Authenticate::class,
+ ]);
 
 /*
 |--------------------------------------------------------------------------
@@ -92,7 +92,7 @@
 */
 
 // $app->register(App\Providers\AppServiceProvider::class);
-// $app->register(App\Providers\AuthServiceProvider::class);
+ $app->register(App\Providers\AuthServiceProvider::class);
 // $app->register(App\Providers\EventServiceProvider::class);
 
 /*
Index: backend/app/Http/Controllers/OperarioController.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?php\r\n\r\n\r\nnamespace App\\Http\\Controllers;\r\n\r\n\r\nuse App\\Models\\User;\r\nuse Illuminate\\Http\\Request;\r\nuse Illuminate\\Support\\Facades\\Hash;\r\nuse Illuminate\\Support\\Str;\r\nuse Illuminate\\Validation\\ValidationException;\r\n\r\nclass OperarioController\r\n{\r\n    public function signIn(Request $request){\r\n        try {\r\n            $this->validate($request, [\r\n                'email' => \"required|Regex:'^[^@]+@[^@]+\\.[a-zA-Z]{2,}$'\",\r\n                'dni' => 'required|Regex:/^\\d{8}[A-Z]{1}/'\r\n            ]);\r\n        } catch (ValidationException $e) {\r\n            return response()->json([\r\n                'res'=>false,\r\n                'message'=>'Check email or DNI'\r\n            ]);\r\n        }\r\n        $input = $request ->all();\r\n        $input['password'] = Hash::make($request->password);\r\n        if ($request->has(\"url_img\"))\r\n            $input[\"url_img\"] = $this->loadImage($request->url_img);\r\n        User::create($input);\r\n\r\n        return response()->json([\r\n            'res'=>true,\r\n            'message'=>'Registro creado correctamente'\r\n        ]);\r\n    }\r\n\r\n    public function logIn(Request $request){\r\n        $user = User::whereEmail($request->email)->first();\r\n\r\n        if(!is_null($user) && Hash::check($request->password, $user->password)){\r\n            $user->api_token = Str::random(150);\r\n            $user->save();\r\n\r\n            return response()->json([\r\n                'res'=>true,\r\n                'id_user'=>$user->id,\r\n                'api_token'=>$user->api_token,\r\n                'message'=>'Ha accedido correctamente'\r\n            ]);\r\n        }else{\r\n            return response()->json([\r\n                'res'=>false,\r\n                'message'=>'Email o contraseÃ±a incorrecta'\r\n            ]);\r\n        }\r\n    }\r\n\r\n\r\n    public function getById($id){\r\n        return User::where('id',$id)->get();\r\n    }\r\n\r\n    public function update($dni, Request $request){\r\n        try {\r\n            $this->validate($request, [\r\n                'email' => \"required|Regex:'^[^@]+@[^@]+\\.[a-zA-Z]{2,}$'\",\r\n                'dni' => 'required|Regex:/^\\d{8}[A-Z]{1}/'\r\n            ]);\r\n        } catch (ValidationException $e) {\r\n            return response()->json([\r\n                'res'=>false,\r\n                'message'=>'Check email or DNI'\r\n            ]);\r\n        }\r\n        $input = $request ->all();\r\n        if ($request->has(\"url_img\"))\r\n            $input[\"url_img\"] = $this->loadImage($request->url_image);\r\n\r\n        $user = User::where('dni',$dni);\r\n        $user->update($input);\r\n        return response()->json([\r\n            'res'=>true,\r\n            'message'=>'Ususario modificado correctamente'\r\n        ]);\r\n    }\r\n\r\n\r\n    //DELETE\r\n    public function delete($dni){\r\n        $user = User::where('dni',$dni);\r\n        $user->delete();\r\n        return response()->json([\r\n            'res'=>true,\r\n            'message'=>'Usuario eliminado correctamente'\r\n        ]);\r\n    }\r\n\r\n    public function loadImage($file){\r\n        $photoName = time().\".\". $file->getClientOriginalExtension();\r\n        $file->move(base_path(\"/public/user_image\"),$photoName);\r\n        return $photoName;\r\n    }\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- backend/app/Http/Controllers/OperarioController.php	(revision ff2b1ee9b1c5fd09042147809cfb1d2070d85355)
+++ backend/app/Http/Controllers/OperarioController.php	(date 1613068753300)
@@ -4,13 +4,13 @@
 namespace App\Http\Controllers;
 
 
-use App\Models\User;
-use Illuminate\Http\Request;
+use App\Models\Operario;
 use Illuminate\Support\Facades\Hash;
+use Illuminate\Http\Request;
 use Illuminate\Support\Str;
 use Illuminate\Validation\ValidationException;
 
-class OperarioController
+class OperarioController extends Controller
 {
     public function signIn(Request $request){
         try {
@@ -28,7 +28,7 @@
         $input['password'] = Hash::make($request->password);
         if ($request->has("url_img"))
             $input["url_img"] = $this->loadImage($request->url_img);
-        User::create($input);
+        Operario::create($input);
 
         return response()->json([
             'res'=>true,
@@ -37,7 +37,7 @@
     }
 
     public function logIn(Request $request){
-        $user = User::whereEmail($request->email)->first();
+        $user = Operario::whereEmail($request->email)->first();
 
         if(!is_null($user) && Hash::check($request->password, $user->password)){
             $user->api_token = Str::random(150);
@@ -45,7 +45,7 @@
 
             return response()->json([
                 'res'=>true,
-                'id_user'=>$user->id,
+                'id_operario'=>$user->id,
                 'api_token'=>$user->api_token,
                 'message'=>'Ha accedido correctamente'
             ]);
@@ -57,9 +57,20 @@
         }
     }
 
+    public function logOut(){
+        $user = auth()->user();
+        $user->api_token = null;
+        $user->save();
+
+        return response()->json([
+            'res'=>true,
+            'message'=>'Ha salido correctamente'
+        ]);
+    }
+
 
     public function getById($id){
-        return User::where('id',$id)->get();
+        return Operario::where('id',$id)->get();
     }
 
     public function update($dni, Request $request){
@@ -78,7 +89,7 @@
         if ($request->has("url_img"))
             $input["url_img"] = $this->loadImage($request->url_image);
 
-        $user = User::where('dni',$dni);
+        $user = Operario::where('dni',$dni);
         $user->update($input);
         return response()->json([
             'res'=>true,
@@ -89,7 +100,7 @@
 
     //DELETE
     public function delete($dni){
-        $user = User::where('dni',$dni);
+        $user = Operario::where('dni',$dni);
         $user->delete();
         return response()->json([
             'res'=>true,
@@ -99,7 +110,7 @@
 
     public function loadImage($file){
         $photoName = time().".". $file->getClientOriginalExtension();
-        $file->move(base_path("/public/user_image"),$photoName);
+        $file->move(base_path("/public/operario_image"),$photoName);
         return $photoName;
     }
 
Index: backend/routes/web.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?php\r\n\r\n/** @var \\Laravel\\Lumen\\Routing\\Router $router */\r\n\r\n/*\r\n|--------------------------------------------------------------------------\r\n| Application Routes\r\n|--------------------------------------------------------------------------\r\n|\r\n| Here is where you can register all of the routes for an application.\r\n| It is a breeze. Simply tell Lumen the URIs it should respond to\r\n| and give it the Closure to call when that URI is requested.\r\n|\r\n*/\r\n\r\n$router->get('/', function () use ($router) {\r\n    return $router->app->version();\r\n});\r\n\r\n$router->group(['prefix' => 'api'], function () use ($router) {\r\n    $router->post('signin', ['as' => 'operario.store', 'uses' => 'OperarioController@signIn']);\r\n    $router->post('login', ['as' => 'operario.logIn', 'uses' => 'OperarioController@logIn']);\r\n\r\n// API route group\r\n    // Matches \"/api/zona\"\r\n    $router->get('zona', ['as' => 'zona', 'uses' => 'ZonaController@index']);\r\n    // Matches \"/api/zona/{id}\"\r\n    $router->get('zona/{id}', ['as' => 'zona.show', 'uses' => 'ZonaController@show']);\r\n    // Matches \"/api/zona/{id}\"\r\n    $router->delete('zona/{id}', ['as' => 'zona.delete', 'uses' => 'ZonaController@delete']);\r\n    // Matches \"/api/zona/{id}\"\r\n    $router->put('zona/{id}', ['as' => 'zona.updatePost', 'uses' => 'ZonaController@updatePost']);\r\n    // Matches \"/api/zona\"\r\n    $router->post('zona', ['as' => 'zona.createPost', 'uses' => 'ZonaController@createPost']);\r\n\r\n    // Matches \"/api/persona\"\r\n    $router->get('persona', ['as' => 'persona', 'uses' => 'PersonaController@index']);\r\n    // Matches \"/api/persona/{id}\"\r\n    $router->get('persona/{id}', ['as' => 'persona.show', 'uses' => 'PersonaController@show']);\r\n    // Matches \"/api/persona/{id}\"\r\n    $router->delete('persona/{id}', ['as' => 'persona.delete', 'uses' => 'PersonaController@delete']);\r\n    // Matches \"/api/persona/{id}\"\r\n    $router->put('persona/{id}', ['as' => 'persona.updatePost', 'uses' => 'PersonaController@updatePost']);\r\n    // Matches \"/api/persona\"\r\n    $router->post('persona', ['as' => 'persona.createPost', 'uses' => 'PersonaController@createPost']);\r\n});\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- backend/routes/web.php	(revision ff2b1ee9b1c5fd09042147809cfb1d2070d85355)
+++ backend/routes/web.php	(date 1613067970609)
@@ -20,6 +20,7 @@
 $router->group(['prefix' => 'api'], function () use ($router) {
     $router->post('signin', ['as' => 'operario.store', 'uses' => 'OperarioController@signIn']);
     $router->post('login', ['as' => 'operario.logIn', 'uses' => 'OperarioController@logIn']);
+    $router->post('logout', ['as' => 'logout', 'uses' =>  'OperarioController@logOut']);
 
 // API route group
     // Matches "/api/zona"
@@ -44,3 +45,5 @@
     // Matches "/api/persona"
     $router->post('persona', ['as' => 'persona.createPost', 'uses' => 'PersonaController@createPost']);
 });
+
+
Index: backend/app/Models/Operario.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?php\r\n\r\n\r\nnamespace App\\Models;\r\nuse Illuminate\\Database\\Eloquent\\Model;\r\n\r\nclass Operario extends Model {\r\n    protected $fillable = [\r\n        'nombre', 'apellidos', 'email'\r\n    ];\r\n\r\n    protected $hidden = [\r\n        'password',\r\n    ];\r\n\r\n    protected $table=\"operarios\";\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- backend/app/Models/Operario.php	(revision ff2b1ee9b1c5fd09042147809cfb1d2070d85355)
+++ backend/app/Models/Operario.php	(date 1613067066827)
@@ -2,16 +2,27 @@
 
 
 namespace App\Models;
+
+use Illuminate\Auth\Authenticatable;
+use Illuminate\Contracts\Auth\Access\Authorizable as AuthorizableContract;
+use Illuminate\Contracts\Auth\Authenticatable as AuthenticatableContract;
+use Illuminate\Database\Eloquent\Factories\HasFactory;
 use Illuminate\Database\Eloquent\Model;
+use Laravel\Lumen\Auth\Authorizable;
+
+class Operario extends Model implements AuthenticatableContract, AuthorizableContract
+{
+    use Authenticatable, Authorizable, HasFactory;
 
-class Operario extends Model {
+    protected $table="operarios";
+
     protected $fillable = [
-        'nombre', 'apellidos', 'email'
+        'dni','nombre', 'apellidos', 'email','password'
     ];
 
     protected $hidden = [
-        'password',
+        'password'
     ];
 
-    protected $table="operarios";
+
 }
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"0fb85044-f59d-476d-b07e-44128cfe35d7\" name=\"Default Changelist\" comment=\"\">\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/AcampadasOC.iml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/AcampadasOC.iml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/backend/database/migrations/2021_02_09_152228_operario.php\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/backend/database/migrations/2021_02_09_152228_operario.php\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/backend/database/migrations/2021_02_09_152912_zona.php\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/backend/database/migrations/2021_02_09_152912_zona.php\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/backend/database/migrations/2021_02_09_152957_reserva.php\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/backend/database/migrations/2021_02_09_152957_reserva.php\" afterDir=\"false\" />\r\n    </list>\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"ComposerSettings\" doNotAsk=\"true\" synchronizationState=\"SYNCHRONIZE\">\r\n    <pharConfigPath>$PROJECT_DIR$/backend/composer.json</pharConfigPath>\r\n    <execution />\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\r\n  </component>\r\n  <component name=\"PhpWorkspaceProjectConfiguration\">\r\n    <include_path>\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/doctrine/inflector\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/doctrine/instantiator\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/doctrine/lexer\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/fakerphp/faker\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/hamcrest/hamcrest-php\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/phpoption/phpoption\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/sebastian/cli-parser\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/sebastian/code-unit\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/sebastian/code-unit-reverse-lookup\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/sebastian/comparator\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/sebastian/complexity\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/sebastian/diff\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/sebastian/environment\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/sebastian/exporter\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/sebastian/global-state\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/sebastian/lines-of-code\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/sebastian/object-enumerator\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/sebastian/object-reflector\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/sebastian/recursion-context\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/sebastian/resource-operations\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/sebastian/type\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/sebastian/version\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/webmozart/assert\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/illuminate/auth\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/illuminate/broadcasting\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/illuminate/bus\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/illuminate/cache\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/illuminate/collections\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/illuminate/config\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/illuminate/console\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/illuminate/container\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/illuminate/contracts\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/illuminate/database\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/illuminate/encryption\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/illuminate/events\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/illuminate/filesystem\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/illuminate/hashing\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/illuminate/http\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/illuminate/log\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/illuminate/macroable\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/illuminate/pagination\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/illuminate/pipeline\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/illuminate/queue\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/illuminate/session\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/illuminate/support\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/illuminate/testing\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/illuminate/translation\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/illuminate/validation\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/illuminate/view\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/dragonmantank/cron-expression\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/phpdocumentor/reflection-common\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/phpdocumentor/reflection-docblock\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/phpdocumentor/type-resolver\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/graham-campbell/result-type\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/composer\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/psr/container\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/psr/event-dispatcher\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/psr/log\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/psr/simple-cache\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/opis/closure\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/voku/portable-ascii\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/brick/math\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/nikic/fast-route\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/nikic/php-parser\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/nesbot/carbon\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/ramsey/collection\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/ramsey/uuid\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/vlucas/phpdotenv\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/egulias/email-validator\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/laravel/lumen-framework\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/mockery/mockery\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/monolog/monolog\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/myclabs/deep-copy\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/phar-io/manifest\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/phar-io/version\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/phpspec/prophecy\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/phpunit/php-code-coverage\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/phpunit/php-file-iterator\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/phpunit/php-invoker\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/phpunit/php-text-template\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/phpunit/php-timer\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/phpunit/phpunit\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/symfony/console\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/symfony/deprecation-contracts\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/symfony/error-handler\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/symfony/event-dispatcher\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/symfony/event-dispatcher-contracts\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/symfony/finder\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/symfony/http-client-contracts\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/symfony/http-foundation\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/symfony/http-kernel\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/symfony/mime\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/symfony/polyfill-ctype\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/symfony/polyfill-intl-grapheme\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/symfony/polyfill-intl-idn\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/symfony/polyfill-intl-normalizer\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/symfony/polyfill-mbstring\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/symfony/polyfill-php72\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/symfony/polyfill-php73\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/symfony/polyfill-php80\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/symfony/process\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/symfony/service-contracts\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/symfony/string\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/symfony/translation\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/symfony/translation-contracts\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/symfony/var-dumper\" />\r\n      <path value=\"$PROJECT_DIR$/backend/vendor/theseer/tokenizer\" />\r\n    </include_path>\r\n  </component>\r\n  <component name=\"ProjectId\" id=\"1oFfxKQSwfvf2BINVJaaT29XpQE\" />\r\n  <component name=\"ProjectLevelVcsManager\" settingsEditedManually=\"true\" />\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\">\r\n    <property name=\"RunOnceActivity.OpenProjectViewOnStart\" value=\"true\" />\r\n    <property name=\"RunOnceActivity.ShowReadmeOnStart\" value=\"true\" />\r\n    <property name=\"WebServerToolWindowFactoryState\" value=\"false\" />\r\n    <property name=\"android.sdk.path\" value=\"$PROJECT_DIR$/../MiSDK\" />\r\n    <property name=\"last_opened_file_path\" value=\"$PROJECT_DIR$/../paver/CRUDLumen\" />\r\n    <property name=\"node.js.detected.package.eslint\" value=\"true\" />\r\n    <property name=\"node.js.detected.package.tslint\" value=\"true\" />\r\n    <property name=\"node.js.path.for.package.eslint\" value=\"project\" />\r\n    <property name=\"node.js.path.for.package.tslint\" value=\"project\" />\r\n    <property name=\"node.js.selected.package.eslint\" value=\"(autodetect)\" />\r\n    <property name=\"node.js.selected.package.tslint\" value=\"(autodetect)\" />\r\n    <property name=\"nodejs_package_manager_path\" value=\"npm\" />\r\n    <property name=\"settings.editor.selected.configurable\" value=\"AndroidSdkUpdater\" />\r\n    <property name=\"vue.rearranger.settings.migration\" value=\"true\" />\r\n  </component>\r\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\r\n  <component name=\"SvnConfiguration\">\r\n    <configuration />\r\n  </component>\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"0fb85044-f59d-476d-b07e-44128cfe35d7\" name=\"Default Changelist\" comment=\"\" />\r\n      <created>1612887511550</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1612887511550</updated>\r\n      <workItem from=\"1612890625223\" duration=\"239000\" />\r\n      <workItem from=\"1612970514916\" duration=\"2123000\" />\r\n      <workItem from=\"1612973843003\" duration=\"1657000\" />\r\n    </task>\r\n    <servers />\r\n  </component>\r\n  <component name=\"TypeScriptGeneratedFilesManager\">\r\n    <option name=\"version\" value=\"3\" />\r\n  </component>\r\n  <component name=\"WindowStateProjectService\">\r\n    <state x=\"578\" y=\"292\" key=\"#Composer\" timestamp=\"1612890644818\">\r\n      <screen x=\"0\" y=\"0\" width=\"1536\" height=\"824\" />\r\n    </state>\r\n    <state x=\"578\" y=\"292\" key=\"#Composer/0.0.1536.824@0.0.1536.824\" timestamp=\"1612890644818\" />\r\n    <state x=\"549\" y=\"167\" key=\"FileChooserDialogImpl\" timestamp=\"1612972523634\">\r\n      <screen x=\"0\" y=\"0\" width=\"1536\" height=\"824\" />\r\n    </state>\r\n    <state x=\"549\" y=\"167\" key=\"FileChooserDialogImpl/0.0.1536.824@0.0.1536.824\" timestamp=\"1612972523634\" />\r\n    <state x=\"349\" y=\"155\" key=\"IDE.errors.dialog\" timestamp=\"1612886900109\">\r\n      <screen x=\"0\" y=\"0\" width=\"1536\" height=\"824\" />\r\n    </state>\r\n    <state x=\"349\" y=\"155\" key=\"IDE.errors.dialog/0.0.1536.824@0.0.1536.824\" timestamp=\"1612886900109\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/workspace.xml	(revision ff2b1ee9b1c5fd09042147809cfb1d2070d85355)
+++ .idea/workspace.xml	(date 1613068753375)
@@ -1,12 +1,31 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <project version="4">
+  <component name="BranchesTreeState">
+    <expand>
+      <path>
+        <item name="ROOT" type="e8cecc67:BranchNodeDescriptor" />
+        <item name="LOCAL_ROOT" type="e8cecc67:BranchNodeDescriptor" />
+      </path>
+      <path>
+        <item name="ROOT" type="e8cecc67:BranchNodeDescriptor" />
+        <item name="REMOTE_ROOT" type="e8cecc67:BranchNodeDescriptor" />
+      </path>
+      <path>
+        <item name="ROOT" type="e8cecc67:BranchNodeDescriptor" />
+        <item name="REMOTE_ROOT" type="e8cecc67:BranchNodeDescriptor" />
+        <item name="GROUP_NODE:origin" type="e8cecc67:BranchNodeDescriptor" />
+      </path>
+    </expand>
+    <select />
+  </component>
   <component name="ChangeListManager">
     <list default="true" id="0fb85044-f59d-476d-b07e-44128cfe35d7" name="Default Changelist" comment="">
-      <change beforePath="$PROJECT_DIR$/.idea/AcampadasOC.iml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/AcampadasOC.iml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/backend/database/migrations/2021_02_09_152228_operario.php" beforeDir="false" afterPath="$PROJECT_DIR$/backend/database/migrations/2021_02_09_152228_operario.php" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/backend/database/migrations/2021_02_09_152912_zona.php" beforeDir="false" afterPath="$PROJECT_DIR$/backend/database/migrations/2021_02_09_152912_zona.php" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/backend/database/migrations/2021_02_09_152957_reserva.php" beforeDir="false" afterPath="$PROJECT_DIR$/backend/database/migrations/2021_02_09_152957_reserva.php" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/backend/app/Http/Controllers/OperarioController.php" beforeDir="false" afterPath="$PROJECT_DIR$/backend/app/Http/Controllers/OperarioController.php" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/backend/app/Http/Controllers/ZonaController.php" beforeDir="false" afterPath="$PROJECT_DIR$/backend/app/Http/Controllers/ZonaController.php" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/backend/app/Models/Operario.php" beforeDir="false" afterPath="$PROJECT_DIR$/backend/app/Models/Operario.php" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/backend/bootstrap/app.php" beforeDir="false" afterPath="$PROJECT_DIR$/backend/bootstrap/app.php" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/backend/routes/web.php" beforeDir="false" afterPath="$PROJECT_DIR$/backend/routes/web.php" afterDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
@@ -18,6 +37,11 @@
     <execution />
   </component>
   <component name="Git.Settings">
+    <option name="RECENT_BRANCH_BY_REPOSITORY">
+      <map>
+        <entry key="$PROJECT_DIR$" value="develop" />
+      </map>
+    </option>
     <option name="RECENT_GIT_ROOT_PATH" value="$PROJECT_DIR$" />
   </component>
   <component name="PhpWorkspaceProjectConfiguration">
@@ -142,7 +166,7 @@
     <property name="RunOnceActivity.ShowReadmeOnStart" value="true" />
     <property name="WebServerToolWindowFactoryState" value="false" />
     <property name="android.sdk.path" value="$PROJECT_DIR$/../MiSDK" />
-    <property name="last_opened_file_path" value="$PROJECT_DIR$/../paver/CRUDLumen" />
+    <property name="last_opened_file_path" value="$PROJECT_DIR$" />
     <property name="node.js.detected.package.eslint" value="true" />
     <property name="node.js.detected.package.tslint" value="true" />
     <property name="node.js.path.for.package.eslint" value="project" />
@@ -167,24 +191,57 @@
       <workItem from="1612890625223" duration="239000" />
       <workItem from="1612970514916" duration="2123000" />
       <workItem from="1612973843003" duration="1657000" />
+      <workItem from="1613057026585" duration="289000" />
+      <workItem from="1613058202678" duration="182000" />
+      <workItem from="1613059181719" duration="6536000" />
+      <workItem from="1613066448820" duration="80000" />
+      <workItem from="1613066567029" duration="2006000" />
     </task>
     <servers />
   </component>
   <component name="TypeScriptGeneratedFilesManager">
     <option name="version" value="3" />
   </component>
+  <component name="Vcs.Log.Tabs.Properties">
+    <option name="TAB_STATES">
+      <map>
+        <entry key="MAIN">
+          <value>
+            <State />
+          </value>
+        </entry>
+      </map>
+    </option>
+    <option name="oldMeFiltersMigrated" value="true" />
+  </component>
   <component name="WindowStateProjectService">
     <state x="578" y="292" key="#Composer" timestamp="1612890644818">
       <screen x="0" y="0" width="1536" height="824" />
     </state>
     <state x="578" y="292" key="#Composer/0.0.1536.824@0.0.1536.824" timestamp="1612890644818" />
-    <state x="549" y="167" key="FileChooserDialogImpl" timestamp="1612972523634">
+    <state x="522" y="236" key="#Notifications" timestamp="1613066524325">
+      <screen x="0" y="0" width="1536" height="824" />
+    </state>
+    <state x="522" y="236" key="#Notifications/0.0.1536.824@0.0.1536.824" timestamp="1613066524325" />
+    <state x="499" y="167" key="#com.jetbrains.php.actions.copyPaste.importReferences.PhpImportReferencesDialog" timestamp="1613063644866">
+      <screen x="0" y="0" width="1536" height="824" />
+    </state>
+    <state x="499" y="167" key="#com.jetbrains.php.actions.copyPaste.importReferences.PhpImportReferencesDialog/0.0.1536.824@0.0.1536.824" timestamp="1613063644866" />
+    <state x="549" y="167" key="FileChooserDialogImpl" timestamp="1613062649318">
       <screen x="0" y="0" width="1536" height="824" />
     </state>
-    <state x="549" y="167" key="FileChooserDialogImpl/0.0.1536.824@0.0.1536.824" timestamp="1612972523634" />
+    <state x="549" y="167" key="FileChooserDialogImpl/0.0.1536.824@0.0.1536.824" timestamp="1613062649318" />
     <state x="349" y="155" key="IDE.errors.dialog" timestamp="1612886900109">
       <screen x="0" y="0" width="1536" height="824" />
     </state>
     <state x="349" y="155" key="IDE.errors.dialog/0.0.1536.824@0.0.1536.824" timestamp="1612886900109" />
+    <state x="582" y="135" key="NewPhpClassDialog" timestamp="1613062630416">
+      <screen x="0" y="0" width="1536" height="824" />
+    </state>
+    <state x="582" y="135" key="NewPhpClassDialog/0.0.1536.824@0.0.1536.824" timestamp="1613062630416" />
+    <state x="604" y="336" key="NewPhpFileDialog" timestamp="1612978603176">
+      <screen x="0" y="0" width="1536" height="824" />
+    </state>
+    <state x="604" y="336" key="NewPhpFileDialog/0.0.1536.824@0.0.1536.824" timestamp="1612978603176" />
   </component>
 </project>
\ No newline at end of file
Index: backend/app/Http/Controllers/ZonaController.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?php\r\n\r\n\r\nnamespace App\\Http\\Controllers;\r\n\r\n\r\nuse App\\Models\\Room;\r\nuse Illuminate\\Http\\Request;\r\n\r\n\r\nclass ZonaController extends Controller{\r\n    //GETTER DE TODA LA VIDA\r\n    public function index(Request $request){\r\n        return Zona::all();\r\n    }\r\n\r\n    //GETTER DE UN SOLO ELEMENTO\r\n    public function show($id){\r\n        return Zona::findOrFail($id);\r\n    }\r\n\r\n    //POST/*\r\n    public function createPost(Request $request){\r\n        $zona = new Zona();\r\n        $zona->nombre = $request->nombre;\r\n        return \"Post has been created!\";\r\n    }\r\n\r\n\r\n    //PUT\r\n    public function updatePost(Request $request){\r\n        $zona = Zona::where('id', $request->id)->first();\r\n        $zona->nombre = $request->nombre;\r\n        $zona->save();\r\n        return \"Post has been updated!\";\r\n    }\r\n\r\n    //DELETE\r\n    public function delete($id){\r\n        Zona::destroy($id);\r\n        return response()->json([\r\n            'res' => true,\r\n            'message' => 'Registro ELIMINADO de la vida correctamente'\r\n        ]);\r\n    }\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- backend/app/Http/Controllers/ZonaController.php	(revision ff2b1ee9b1c5fd09042147809cfb1d2070d85355)
+++ backend/app/Http/Controllers/ZonaController.php	(date 1613065728830)
@@ -4,7 +4,7 @@
 namespace App\Http\Controllers;
 
 
-use App\Models\Room;
+use App\Models\Zona;
 use Illuminate\Http\Request;
 
 
@@ -44,4 +44,5 @@
         ]);
     }
 
+
 }
